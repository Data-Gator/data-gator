\doxysection{include/setup\+\_\+util.hpp File Reference}
\hypertarget{setup__util_8hpp}{}\label{setup__util_8hpp}\index{include/setup\_util.hpp@{include/setup\_util.hpp}}


Utilities to facilitate setup of devices and interfaces.  


{\ttfamily \#include $<$scheduler.\+hpp$>$}\newline
{\ttfamily \#include $<$OWMAdafruit\+\_\+\+ADS1015.\+h$>$}\newline
{\ttfamily \#include $<$Adafruit\+\_\+\+MAX1704\+X.\+h$>$}\newline
{\ttfamily \#include $<$Wi\+Fi\+Client\+Secure.\+h$>$}\newline
{\ttfamily \#include $<$Wi\+Fi.\+h$>$}\newline
{\ttfamily \#include $<$Nim\+BLEDevice.\+h$>$}\newline
{\ttfamily \#include $<$Nim\+BLEAddress.\+h$>$}\newline
{\ttfamily \#include $<$Nim\+BLEAdvertised\+Device.\+h$>$}\newline
Include dependency graph for setup\+\_\+util.\+hpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{setup__util_8hpp__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{setup__util_8hpp__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{setup__util_8hpp_a128d924b1afd17162585d6e7c91156c5}\label{setup__util_8hpp_a128d924b1afd17162585d6e7c91156c5} 
\#\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{define}} {\bfseries RO\+\_\+\+MODE}~\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{true}}
\begin{DoxyCompactList}\small\item\em define read only access mode for SD card files \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a308c6953759d216057ee734e42285f27}\label{setup__util_8hpp_a308c6953759d216057ee734e42285f27} 
\#\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{define}} {\bfseries RW\+\_\+\+MODE}~\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{false}}
\begin{DoxyCompactList}\small\item\em define read/write access mode for SD card files \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{setup__util_8hpp_a88e5d548d87de5bf811e50e939140823}\label{setup__util_8hpp_a88e5d548d87de5bf811e50e939140823} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{NTPClient}} {\bfseries time\+Client} (\mbox{\hyperlink{setup__util_8hpp_a22f33e7e05df58bb6145bb6e543e232a}{ntp\+UDP}})
\begin{DoxyCompactList}\small\item\em network time protocol object to get current time \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_acee10fb61031896f1d6682326b0c29fb}\label{setup__util_8hpp_acee10fb61031896f1d6682326b0c29fb} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+gpio} ()
\begin{DoxyCompactList}\small\item\em Initialize pins as input/output and set default state (HIGH/\+LOW) \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a29d955cea25597c3c0ad1cf217a39fc8}\label{setup__util_8hpp_a29d955cea25597c3c0ad1cf217a39fc8} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+adc} ()
\begin{DoxyCompactList}\small\item\em Initialize the analog to digital converter. \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a15bf7397947b70d0b047247a1124bbb5}\label{setup__util_8hpp_a15bf7397947b70d0b047247a1124bbb5} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+fuel\+\_\+gauge} ()
\begin{DoxyCompactList}\small\item\em Initialize and set the state variable for the fuel gauge. \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a0dc74b93cd5f11b7aee5c06227f4a4fa}\label{setup__util_8hpp_a0dc74b93cd5f11b7aee5c06227f4a4fa} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+i2c\+\_\+sensors} ()
\begin{DoxyCompactList}\small\item\em Initialize ALL i2c bus dependent sensors. \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a74b80f8e9ed3047281ddb82a1ce5f45d}\label{setup__util_8hpp_a74b80f8e9ed3047281ddb82a1ce5f45d} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+mqtt\+\_\+connection} ()
\begin{DoxyCompactList}\small\item\em Configure mqtt client settings. \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_aabe52a36442af112980055303d7a604f}\label{setup__util_8hpp_aabe52a36442af112980055303d7a604f} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+ble} ()
\begin{DoxyCompactList}\small\item\em Initialize BLE stack. \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a2673b537beec6709ad1c2c961a7c96cf}\label{setup__util_8hpp_a2673b537beec6709ad1c2c961a7c96cf} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+wifi\+\_\+connection} ()
\begin{DoxyCompactList}\small\item\em Connect to Wi\+Fi, set flags, timeout, etc. \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a9b5129deeec437a70239f542dc01a19a}\label{setup__util_8hpp_a9b5129deeec437a70239f542dc01a19a} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+wireless\+\_\+connections} ()
\begin{DoxyCompactList}\small\item\em Setup all wireless interfaces including Wi\+Fi, BLE. \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_aacdea490a1863a848d69c860e32bab4c}\label{setup__util_8hpp_aacdea490a1863a848d69c860e32bab4c} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{void}} {\bfseries setup\+\_\+logging} ()
\begin{DoxyCompactList}\small\item\em Initialize logging and get timestamp from network, if available, for logging. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classAdafruit__ADS1115}{Adafruit\+\_\+\+ADS1115}} \mbox{\hyperlink{setup__util_8hpp_a951ac31de71c2bf701a13e5f233fc6d8}{ads}}
\begin{DoxyCompactList}\small\item\em Analog to digital converter object (I2C) \end{DoxyCompactList}\item 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{Adafruit\+\_\+\+MAX17048}} \mbox{\hyperlink{setup__util_8hpp_a106fc9194d62779ffe942b866046530d}{maxlipo}}
\begin{DoxyCompactList}\small\item\em MAX17048 battery Fuel Gauge. \end{DoxyCompactList}\item 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{bool}} \mbox{\hyperlink{setup__util_8hpp_ac334200b5e3db6f6228d37cec3b03538}{maxlipo\+\_\+attached}} = \mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{true}}
\begin{DoxyCompactList}\small\item\em Fuel Gauge successfully initialized? \end{DoxyCompactList}\item 
\Hypertarget{setup__util_8hpp_a22f33e7e05df58bb6145bb6e543e232a}\label{setup__util_8hpp_a22f33e7e05df58bb6145bb6e543e232a} 
\mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{Wi\+Fi\+UDP}} {\bfseries ntp\+UDP}
\begin{DoxyCompactList}\small\item\em Wi\+Fi stack object to pass to the NTPClient. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{setup__util_8hpp_a2df27a00b191de3537c3b53adcecf1e8}{reset\+\_\+count}}
\begin{DoxyCompactList}\small\item\em number of resets retrieved for NVS \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Utilities to facilitate setup of devices and interfaces. 

\begin{DoxyAuthor}{Author}
Garrett Wells 
\end{DoxyAuthor}


\doxysubsection{Variable Documentation}
\Hypertarget{setup__util_8hpp_a951ac31de71c2bf701a13e5f233fc6d8}\label{setup__util_8hpp_a951ac31de71c2bf701a13e5f233fc6d8} 
\index{setup\_util.hpp@{setup\_util.hpp}!ads@{ads}}
\index{ads@{ads}!setup\_util.hpp@{setup\_util.hpp}}
\doxysubsubsection{\texorpdfstring{ads}{ads}}
{\footnotesize\ttfamily \mbox{\hyperlink{classAdafruit__ADS1115}{Adafruit\+\_\+\+ADS1115}} ads}



Analog to digital converter object (I2C) 

Interface for the analog to digital converter. ~\newline
 \Hypertarget{setup__util_8hpp_a106fc9194d62779ffe942b866046530d}\label{setup__util_8hpp_a106fc9194d62779ffe942b866046530d} 
\index{setup\_util.hpp@{setup\_util.hpp}!maxlipo@{maxlipo}}
\index{maxlipo@{maxlipo}!setup\_util.hpp@{setup\_util.hpp}}
\doxysubsubsection{\texorpdfstring{maxlipo}{maxlipo}}
{\footnotesize\ttfamily \mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{Adafruit\+\_\+\+MAX17048}} maxlipo}



MAX17048 battery Fuel Gauge. 

Interface for the battery fuel gauge. \Hypertarget{setup__util_8hpp_ac334200b5e3db6f6228d37cec3b03538}\label{setup__util_8hpp_ac334200b5e3db6f6228d37cec3b03538} 
\index{setup\_util.hpp@{setup\_util.hpp}!maxlipo\_attached@{maxlipo\_attached}}
\index{maxlipo\_attached@{maxlipo\_attached}!setup\_util.hpp@{setup\_util.hpp}}
\doxysubsubsection{\texorpdfstring{maxlipo\_attached}{maxlipo\_attached}}
{\footnotesize\ttfamily \mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{bool}} maxlipo\+\_\+attached = \mbox{\hyperlink{src_2main_8cpp_a2df27a00b191de3537c3b53adcecf1e8}{true}}}



Fuel Gauge successfully initialized? 

External flag indicating whether maxlipo was initialized successfully. \Hypertarget{setup__util_8hpp_a2df27a00b191de3537c3b53adcecf1e8}\label{setup__util_8hpp_a2df27a00b191de3537c3b53adcecf1e8} 
\index{setup\_util.hpp@{setup\_util.hpp}!reset\_count@{reset\_count}}
\index{reset\_count@{reset\_count}!setup\_util.hpp@{setup\_util.hpp}}
\doxysubsubsection{\texorpdfstring{reset\_count}{reset\_count}}
{\footnotesize\ttfamily int reset\+\_\+count\hspace{0.3cm}{\ttfamily [extern]}}



number of resets retrieved for NVS 

External variable holding the number of resets recorded by the system. Stored and loaded from non-\/volatile storage. 